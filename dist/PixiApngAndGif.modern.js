import*as t from"pako";import{Ticker as e}from"@pixi/ticker";import{Sprite as r}from"@pixi/sprite";import{BaseTexture as i,Texture as s}from"@pixi/core";import{Rectangle as a}from"@pixi/math";class l{constructor(t){this.frames=[],this.loop_count=null,this.buf=void 0,this.width=void 0,this.height=void 0,this.buf=t;let e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,s=t[e++],a=1<<1+(7&s);e++,e++;var l=null,o=null;s>>7&&(l=e,o=a,e+=3*a);var n=!0,f=0,h=null,u=0;for(this.width=r,this.height=i;n&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,this.loop_count=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(0===A)break;e+=A}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var d=t[e++];f=t[e++]|t[e++]<<8,h=t[e++],0==(1&d)&&(h=null),u=d>>2&7,e++;break;case 254:for(;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(0===A)break;e+=A}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var c=t[e++]|t[e++]<<8,p=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,w=t[e++],y=w>>6&1,b=1<<1+(7&w),_=l,x=o,v=!1;w>>7&&(v=!0,_=e,x=b,e+=3*b);var I=e;for(e++;;){var A;if(!((A=t[e++])>=0))throw Error("Invalid block size");if(0===A)break;e+=A}this.frames.push({x:c,y:p,width:m,height:g,has_local_palette:v,palette_offset:_,palette_size:x,data_offset:I,data_length:e-I,transparent_index:h,interlaced:!!y,delay:f,disposal:u});break;case 59:n=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}}numFrames(){return this.frames.length}loopCount(){return this.loop_count}frameInfo(t){if(t<0||t>=this.frames.length)throw new Error("Frame index out of range.");return this.frames[t]}decodeAndBlitFrameBGRA(t,e){var r=this.frameInfo(t),i=r.width*r.height,s=new Uint8Array(i);o(this.buf,r.data_offset,s,i);var a=r.palette_offset,l=r.transparent_index;null===l&&(l=256);var n=r.width,f=this.width-n,h=n,u=4*(r.y*this.width+r.x),d=4*((r.y+r.height)*this.width+r.x),c=u,p=4*f;!0===r.interlaced&&(p+=4*this.width*7);for(var m=8,g=0,w=s.length;g<w;++g){var y=s[g];if(0===h&&(h=n,(c+=p)>=d&&(p=4*f+4*this.width*(m-1),c=u+(n+f)*(m<<1),m>>=1)),y===l)c+=4;else{var b=this.buf[a+3*y],_=this.buf[a+3*y+1];e[c++]=this.buf[a+3*y+2],e[c++]=_,e[c++]=b,e[c++]=255}--h}}decodeAndBlitFrameRGBA(t,e){var r=this.frameInfo(t),i=r.width*r.height,s=new Uint8Array(i);o(this.buf,r.data_offset,s,i);var a=r.palette_offset,l=r.transparent_index;null===l&&(l=256);var n=r.width,f=this.width-n,h=n,u=4*(r.y*this.width+r.x),d=4*((r.y+r.height)*this.width+r.x),c=u,p=4*f;!0===r.interlaced&&(p+=4*this.width*7);for(var m=8,g=0,w=s.length;g<w;++g){var y=s[g];if(0===h&&(h=n,(c+=p)>=d&&(p=4*f+4*this.width*(m-1),c=u+(n+f)*(m<<1),m>>=1)),y===l)c+=4;else{var b=this.buf[a+3*y+1],_=this.buf[a+3*y+2];e[c++]=this.buf[a+3*y],e[c++]=b,e[c++]=_,e[c++]=255}--h}}}function o(t,e,r,i){for(var s=t[e++],a=1<<s,l=a+1,o=l+1,n=s+1,f=(1<<n)-1,h=0,u=0,d=0,c=t[e++],p=new Int32Array(4096),m=null;;){for(;h<16&&0!==c;)u|=t[e++]<<h,h+=8,1===c?c=t[e++]:--c;if(h<n)break;var g=u&f;if(u>>=n,h-=n,g!==a){if(g===l)break;for(var w=g<o?g:m,y=0,b=w;b>a;)b=p[b]>>8,++y;var _=b;if(d+y+(w!==g?1:0)>i)return void console.log("Warning, gif stream longer than expected.");r[d++]=_;var x=d+=y;for(w!==g&&(r[d++]=_),b=w;y--;)r[--x]=255&(b=p[b]),b>>=8;null!==m&&o<4096&&(p[o++]=m<<8|_,o>=f+1&&n<12&&(++n,f=f<<1|1)),m=g}else o=l+1,f=(1<<(n=s+1))-1,m=null}return d!==i&&console.log("Warning, gif stream shorter than expected."),r}Uint8Array&&!Uint8Array.prototype.slice&&(Uint8Array.prototype.slice=function(...t){return new Uint8Array(this).subarray(...t)});class n{static decodeImage(t,e,r,i){let s=e*r,a=f._getBPP(i),l=Math.ceil(e*a/8),o=new Uint8Array(4*s),n=new Uint32Array(o.buffer),u=i.ctype,d=i.depth,c=h.readUshort;if(6==u){let e=s<<2;if(8==d)for(let r=0;r<e;r++)o[r]=t[r];if(16==d)for(let r=0;r<e;r++)o[r]=t[r<<1]}else if(2==u){let e=i.tabs.tRNS,r=-1,a=-1,l=-1;if(e&&(r=e[0],a=e[1],l=e[2]),8==d)for(let e=0;e<s;e++){let i=e<<2,s=3*e;o[i]=t[s],o[i+1]=t[s+1],o[i+2]=t[s+2],o[i+3]=255,-1!=r&&t[s]==r&&t[s+1]==a&&t[s+2]==l&&(o[i+3]=0)}if(16==d)for(let e=0;e<s;e++){let i=e<<2,s=6*e;o[i]=t[s],o[i+1]=t[s+2],o[i+2]=t[s+4],o[i+3]=255,-1!=r&&c(t,s)==r&&c(t,s+2)==a&&c(t,s+4)==l&&(o[i+3]=0)}}else if(3==u){let a=i.tabs.PLTE,n=i.tabs.tRNS,f=n?n.length:0;if(1==d)for(let i=0;i<r;i++){let r=i*l,s=i*e;for(let i=0;i<e;i++){let e=s+i<<2,l=t[r+(i>>3)]>>7-((7&i)<<0)&1,h=3*l;o[e]=a[h],o[e+1]=a[h+1],o[e+2]=a[h+2],o[e+3]=l<f?n[l]:255}}if(2==d)for(let i=0;i<r;i++){let r=i*l,s=i*e;for(let i=0;i<e;i++){let e=s+i<<2,l=t[r+(i>>2)]>>6-((3&i)<<1)&3,h=3*l;o[e]=a[h],o[e+1]=a[h+1],o[e+2]=a[h+2],o[e+3]=l<f?n[l]:255}}if(4==d)for(let i=0;i<r;i++){let r=i*l,s=i*e;for(let i=0;i<e;i++){let e=s+i<<2,l=t[r+(i>>1)]>>4-((1&i)<<2)&15,h=3*l;o[e]=a[h],o[e+1]=a[h+1],o[e+2]=a[h+2],o[e+3]=l<f?n[l]:255}}if(8==d)for(let e=0;e<s;e++){let r=e<<2,i=t[e],s=3*i;o[r]=a[s],o[r+1]=a[s+1],o[r+2]=a[s+2],o[r+3]=i<f?n[i]:255}}else if(4==u){if(8==d)for(let e=0;e<s;e++){let r=e<<2,i=e<<1,s=t[i];o[r]=s,o[r+1]=s,o[r+2]=s,o[r+3]=t[i+1]}if(16==d)for(let e=0;e<s;e++){let r=e<<2,i=e<<2,s=t[i];o[r]=s,o[r+1]=s,o[r+2]=s,o[r+3]=t[i+2]}}else if(0==u){let e=i.tabs.tRNS?i.tabs.tRNS:-1;if(1==d)for(let r=0;r<s;r++){let i=255*(t[r>>3]>>7-(7&r)&1);n[r]=(i==255*e?0:255)<<24|i<<16|i<<8|i}if(2==d)for(let r=0;r<s;r++){let i=85*(t[r>>2]>>6-((3&r)<<1)&3);n[r]=(i==85*e?0:255)<<24|i<<16|i<<8|i}if(4==d)for(let r=0;r<s;r++){let i=17*(t[r>>1]>>4-((1&r)<<2)&15);n[r]=(i==17*e?0:255)<<24|i<<16|i<<8|i}if(8==d)for(let r=0;r<s;r++){let i=t[r];n[r]=(i==e?0:255)<<24|i<<16|i<<8|i}if(16==d)for(let r=0;r<s;r++){let i=t[r<<1],s=c(t,r<<1)==e?0:255;n[r]=s<<24|i<<16|i<<8|i}}return o}}class f{static _decompress(t,e,r,i){return 0==t.compress&&(e=f._inflate(e)),0==t.interlace?e=f._filterZero(e,t,0,r,i):1==t.interlace&&(e=f._readInterlace(e,t)),e}static _inflate(e){return t.inflate(e)}static _readInterlace(t,e){let r=e.width,i=e.height,s=f._getBPP(e),a=s>>3,l=Math.ceil(r*s/8),o=new Uint8Array(i*l),n=0,h=[0,0,4,0,2,0,1],u=[0,4,0,2,0,1,0],d=[8,8,8,4,4,2,2],c=[8,8,4,4,2,2,1],p=0;for(;p<7;){let m=d[p],g=c[p],w=0,y=0,b=h[p];for(;b<i;)b+=m,y++;let _=u[p];for(;_<r;)_+=g,w++;let x=Math.ceil(w*s/8);f._filterZero(t,e,n,w,y);let v=0,I=h[p];for(;I<i;){let e=u[p],i=n+v*x<<3;for(;e<r;){if(1==s){let r=t[i>>3];r=r>>7-(7&i)&1,o[I*l+(e>>3)]|=r<<7-((3&e)<<0)}if(2==s){let r=t[i>>3];r=r>>6-(7&i)&3,o[I*l+(e>>2)]|=r<<6-((3&e)<<1)}if(4==s){let r=t[i>>3];r=r>>4-(7&i)&15,o[I*l+(e>>1)]|=r<<4-((1&e)<<2)}if(s>=8){let r=I*l+e*a;for(let e=0;e<a;e++)o[r+e]=t[(i>>3)+e]}i+=s,e+=g}v++,I+=m}w*y!=0&&(n+=y*(1+x)),p+=1}return o}static _getBPP(t){return[1,null,3,1,2,null,4][t.ctype]*t.depth}static _filterZero(t,e,r,i,s){let a=f._getBPP(e),l=Math.ceil(i*a/8),o=f._paeth;a=Math.ceil(a/8);for(let e=0;e<s;e++){let i=r+e*l,s=i+e+1,n=t[s-1];if(0==n)for(let e=0;e<l;e++)t[i+e]=t[s+e];else if(1==n){for(let e=0;e<a;e++)t[i+e]=t[s+e];for(let e=a;e<l;e++)t[i+e]=t[s+e]+t[i+e-a]&255}else if(0==e){for(let e=0;e<a;e++)t[i+e]=t[s+e];if(2==n)for(let e=a;e<l;e++)t[i+e]=255&t[s+e];if(3==n)for(let e=a;e<l;e++)t[i+e]=t[s+e]+(t[i+e-a]>>1)&255;if(4==n)for(let e=a;e<l;e++)t[i+e]=t[s+e]+o(t[i+e-a],0,0)&255}else{if(2==n)for(let e=0;e<l;e++)t[i+e]=t[s+e]+t[i+e-l]&255;if(3==n){for(let e=0;e<a;e++)t[i+e]=t[s+e]+(t[i+e-l]>>1)&255;for(let e=a;e<l;e++)t[i+e]=t[s+e]+(t[i+e-l]+t[i+e-a]>>1)&255}if(4==n){for(let e=0;e<a;e++)t[i+e]=t[s+e]+o(0,t[i+e-l],0)&255;for(let e=a;e<l;e++)t[i+e]=t[s+e]+o(t[i+e-a],t[i+e-l],t[i+e-a-l])&255}}}return t}static _paeth(t,e,r){let i=t+e-r,s=Math.abs(i-t),a=Math.abs(i-e),l=Math.abs(i-r);return s<=a&&s<=l?t:a<=l?e:r}static _IHDR(t,e,r){let i=h;r.width=i.readUint(t,e),r.height=i.readUint(t,e+=4),r.depth=t[e+=4],e++,r.ctype=t[e],e++,r.compress=t[e],e++,r.filter=t[e],e++,r.interlace=t[e],e++}}class h{static nextZero(t,e){for(;0!=t[e];)e++;return e}static readUshort(t,e){return t[e]<<8|t[e+1]}static writeUshort(t,e,r){t[e]=r>>8&255,t[e+1]=255&r}static readUint(t,e){return 16777216*t[e]+(t[e+1]<<16|t[e+2]<<8|t[e+3])}static writeUint(t,e,r){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r}static readASCII(t,e,r){let i="";for(let s=0;s<r;s++)i+=String.fromCharCode(t[e+s]);return i}static writeASCII(t,e,r){for(let i=0;i<r.length;i++)t[e+i]=r.charCodeAt(i)}static readBytes(t,e,r){let i=[];for(let s=0;s<r;s++)i.push(t[e+s]);return i}static pad(t){return t.length<2?"0"+t:t}static readUTF8(t,e,r){let i,s="";for(let i=0;i<r;i++)s+="%"+h.pad(t[e+i].toString(16));try{i=decodeURIComponent(s)}catch(i){return h.readASCII(t,e,r)}return i}}function u(t,e,r,i,s,a,l,o,n){let f=Math.min(e,s),h=Math.min(r,a),u=0,d=0;for(let r=0;r<h;r++)for(let a=0;a<f;a++)if(l>=0&&o>=0?(u=r*e+a<<2,d=(o+r)*s+l+a<<2):(u=(-o+r)*e-l+a<<2,d=r*s+a<<2),0==n)i[d]=t[u],i[d+1]=t[u+1],i[d+2]=t[u+2],i[d+3]=t[u+3];else if(1==n){let e=t[u+3]*(1/255),r=t[u]*e,s=t[u+1]*e,a=t[u+2]*e,l=i[d+3]*(1/255),o=i[d]*l,n=i[d+1]*l,f=i[d+2]*l,h=1-e,c=e+l*h,p=0==c?0:1/c;i[d+3]=255*c,i[d+0]=(r+o*h)*p,i[d+1]=(s+n*h)*p,i[d+2]=(a+f*h)*p}else if(2==n){let e=t[u+3],r=t[u],s=t[u+1],a=t[u+2],l=i[d],o=i[d+1],n=i[d+2];e==i[d+3]&&r==l&&s==o&&a==n?(i[d]=0,i[d+1]=0,i[d+2]=0,i[d+3]=0):(i[d]=r,i[d+1]=s,i[d+2]=a,i[d+3]=e)}else if(3==n){let e=t[u+3],r=t[u],s=t[u+1],a=t[u+2],l=i[d+3],o=i[d],n=i[d+1],f=i[d+2];if(e==l&&r==o&&s==n&&a==f)continue;if(e<220&&l>20)return!1}return!0}class d{constructor(t,e){this.esource=void 0,this.resources=void 0,this.temp=void 0,this.__method=void 0,this.__attr=void 0,this.__status=void 0,this.ticker=void 0,this.sprite=void 0,this.textures=void 0,this.framesDelay=void 0,this.esource=t,this.resources=e,this.init()}init(){this.temp={events:{}},this.__attr={autoPlay:!0,loop:0},this.__method={play:this.play},this.__status={status:"init",frame:0,loops:0,time:0},this.ticker=new e,this.ticker.stop(),this.sprite=this.createSprite(this.esource,this.resources)}play(t,r){if(!this.textures.length)throw new Error("没有可用的textures");if(1===this.textures.length)return;let i=this.__status,s=this.__attr,a=0;"stop"===i.status&&(i.loops=0),this.temp.loop=t="number"==typeof t?t:s.loop,s.loop=t,this.temp.tickerIsAdd||(this.ticker.add(t=>{a+=e.shared.elapsedMS,a>this.framesDelay[i.frame]&&(i.frame++,i.status="playing",i.frame>this.textures.length-1&&(i.frame=0,i.loops++,this.temp.loop>0&&i.loops>=this.temp.loop&&("function"==typeof r&&r(i),i.status="played",this.runEvent("played",i),this.stop())),this.sprite.texture=this.textures[i.frame],a=0,this.runEvent("playing",i))}),this.temp.tickerIsAdd=!0),this.ticker.start()}pause(){const t=this,e=t.__status;t.ticker.stop(),e.status="pause",t.runEvent("pause",e)}stop(){const t=this,e=t.__status;t.ticker.stop(),e.status="stop",t.runEvent("stop",e)}jumpToFrame(t){const e=this,r=e.textures;if(!r.length)throw new Error("没有可用的textures");let i=e.__status;"number"==typeof(t=t<0?0:t>r.length-1?r.length-1:t)&&(e.sprite.texture=r[t],i.frame=t)}getDuration(){const t=this.framesDelay;if(!t.length)throw new Error("未找到图片帧时间");let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r];return e}getFramesLength(){if(!this.textures.length)throw new Error("没有可用的textures");return this.textures.length}on(t,e){const r=this;switch(t){case"playing":case"played":case"pause":case"stop":r.temp.events[t]=e;break;default:throw new Error("无效的事件")}}runEvent(t,e){let r=this.temp;"function"==typeof r.events[t]&&r.events[t](e)}createSprite(t,e){const i=this;let s=t,a=function(t){let e=t.split(".");return e[e.length-1]}(s.toLocaleLowerCase());return a="gif"===a||"png"===a?a:"other",{gif:()=>{let t=i.gifResourceToTextures(e[s]);return i.textures=t.textures,i.framesDelay=t.delayTimes,i.play(),new r(i.textures[0])},png:()=>{let t=i.apngResourceToTextures(e[s]);return i.textures=t.textures,i.framesDelay=t.delayTimes,i.play(),new r(i.textures[0])},other:()=>(i.textures=[e[s].texture],new r(e[s].texture))}[a]()}apngResourceToTextures(t){let e,r,l,o,d={delayTimes:[],textures:[]},c=function(t){let e,r=new Uint8Array(t),i=8,s=h,a=s.readUshort,l=s.readUint,o={tabs:{},frames:[],ctype:null,data:null,width:null,height:null,compress:null,interlace:null,filter:null},n=new Uint8Array(r.length),u=0,d=0,c=[137,80,78,71,13,10,26,10];for(let t=0;t<8;t++)if(r[t]!=c[t])throw"The input is not a PNG file!";for(;i<r.length;){let t=s.readUint(r,i);i+=4;let h=s.readASCII(r,i,4);if(i+=4,"IHDR"==h)f._IHDR(r,i,o);else if("IDAT"==h){for(let e=0;e<t;e++)n[u+e]=r[i+e];u+=t}else if("acTL"==h)o.tabs[h]={num_frames:l(r,i),num_plays:l(r,i+4)},e=new Uint8Array(r.length);else if("fcTL"==h){if(0!=d){let t=o.frames[o.frames.length-1];t.data=f._decompress(o,e.slice(0,d),t.rect.width,t.rect.height),d=0}let t={x:l(r,i+12),y:l(r,i+16),width:l(r,i+4),height:l(r,i+8)},s=a(r,i+22);s=a(r,i+20)/(0==s?100:s);let n={rect:t,delay:Math.round(1e3*s),dispose:r[i+24],blend:r[i+25]};o.frames.push(n)}else if("fdAT"==h){for(let s=0;s<t-4;s++)e[d+s]=r[i+s+4];d+=t-4}else if("pHYs"==h)o.tabs[h]=[s.readUint(r,i),s.readUint(r,i+4),r[i+8]];else if("cHRM"==h){o.tabs[h]=[];for(let t=0;t<8;t++)o.tabs[h].push(s.readUint(r,i+4*t))}else if("tEXt"==h){null==o.tabs[h]&&(o.tabs[h]={});let e=s.nextZero(r,i),a=s.readASCII(r,i,e-i),l=s.readASCII(r,e+1,i+t-e-1);o.tabs[h][a]=l}else if("iTXt"==h){null==o.tabs[h]&&(o.tabs[h]={});let e=0,a=i;e=s.nextZero(r,a);let l=s.readASCII(r,a,e-a);a=e+1,a+=2,e=s.nextZero(r,a),s.readASCII(r,a,e-a),a=e+1,e=s.nextZero(r,a),s.readUTF8(r,a,e-a),a=e+1;let n=s.readUTF8(r,a,t-(a-i));o.tabs[h][l]=n}else if("PLTE"==h)o.tabs[h]=s.readBytes(r,i,t);else if("hIST"==h){let t=o.tabs.PLTE.length/3;o.tabs[h]=[];for(let e=0;e<t;e++)o.tabs[h].push(a(r,i+2*e))}else if("tRNS"==h)3==o.ctype?o.tabs[h]=s.readBytes(r,i,t):0==o.ctype?o.tabs[h]=a(r,i):2==o.ctype&&(o.tabs[h]=[a(r,i),a(r,i+2),a(r,i+4)]);else if("gAMA"==h)o.tabs[h]=s.readUint(r,i)/1e5;else if("sRGB"==h)o.tabs[h]=r[i];else if("bKGD"==h)0==o.ctype||4==o.ctype?o.tabs[h]=[a(r,i)]:2==o.ctype||6==o.ctype?o.tabs[h]=[a(r,i),a(r,i+2),a(r,i+4)]:3==o.ctype&&(o.tabs[h]=r[i]);else if("IEND"==h)break;i+=t,i+=4}if(0!=d){let t=o.frames[o.frames.length-1];t.data=f._decompress(o,e.slice(0,d),t.rect.width,t.rect.height),d=0}return o.data=f._decompress(o,n,o.width,o.height),delete o.compress,delete o.interlace,delete o.filter,o}(new Uint8Array(t.data)),p=function(t){let e=t.width,r=t.height;if(null==t.tabs.acTL)return[n.decodeImage(t.data,e,r,t).buffer];let i=[];null==t.frames[0].data&&(t.frames[0].data=t.data);let s,a=new Uint8Array(e*r*4);for(let l=0;l<t.frames.length;l++){let o=t.frames[l],f=o.rect.x,h=o.rect.y,d=o.rect.width,c=o.rect.height,p=n.decodeImage(o.data,d,c,t);if(0==l?s=p:0==o.blend?u(p,d,c,s,e,r,f,h,0):1==o.blend&&u(p,d,c,s,e,r,f,h,1),i.push(s.buffer),s=s.slice(0),0==o.dispose);else if(1==o.dispose)u(a,d,c,s,e,r,f,h,0);else if(2==o.dispose){let e=l-1;for(;2==t.frames[e].dispose;)e--;s=new Uint8Array(i[e]).slice(0)}}return i}(c),m=c.width,g=c.height;c.frames.forEach((t,e)=>{d.delayTimes.push(t.delay)});for(let t=0,n=p.length;t<n;t++){let n=new Uint8ClampedArray(p[t]);r=document.createElement("canvas"),r.width=m,r.height=g,l=r.getContext("2d"),e=i.from(r),o=l.createImageData(m,g),o.data.set(n),l.putImageData(o,0,0),d.textures.push(new s(e,new a(0,0,m,g)))}return d}gifResourceToTextures(t){let e,r,o,n,f,h={delayTimes:[],textures:[]},u=new Uint8Array(t.data),d=new l(u),c=d.width,p=d.height,m=d.numFrames();for(let t=0;t<m;t++)e=d.frameInfo(t),h.delayTimes.push(10*e.delay),o=document.createElement("canvas"),o.width=c,o.height=p,n=o.getContext("2d"),f=n.createImageData(c,p),d.decodeAndBlitFrameRGBA(t,f.data),n.putImageData(f,0,0),r=i.from(o),h.textures.push(new s(r,new a(0,0,c,p)));return h}}export{d as default};
//# sourceMappingURL=PixiApngAndGif.modern.js.map
